[{"slug":"231","description":"关于231","title":"dwad","toc":[],"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"ewadfw"}]}]},"dir":"/articles","path":"/articles/231","extension":".md","createdAt":"2022-04-21T06:17:38.981Z","updatedAt":"2022-05-03T08:55:16.020Z"},{"slug":"storyofsellmycheapfontend","description":"一个售卖前端故事","title":"售卖我的廉价前端技术","toc":[{"id":"今天","depth":2,"text":"今天"}],"body":{"type":"root","children":[{"type":"element","tag":"h2","props":{"id":"今天"},"children":[{"type":"element","tag":"a","props":{"ariaHidden":"true","href":"#%E4%BB%8A%E5%A4%A9","tabIndex":-1},"children":[{"type":"element","tag":"span","props":{"className":["icon","icon-link"]},"children":[]}]},{"type":"text","value":"今天"}]},{"type":"text","value":"\n"},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"今天从我的闲鱼来找我解决前端问题的慷慨兄弟那里获得了不少的零钱。还是挺可喜可贺的。想想我已经靠我的这种通过微博和闲鱼销售我的前端技术的活已经有差不多两年了。这种活主要是干什么呢？是我自己都觉得有点可耻的向我同龄的学生提供那些帮他们写作业，写大作业，写毕设一系列乱七八糟的活。其实也算不上什么可耻就是我觉得老是从学生这边赚钱是不是不太好，提供这种服务。没有办法我可能太穷了，吃个饭也得考虑价钱是否合适，点个外卖都得被价格算术困扰半小时的人。不过其实有好像比我过得更穷的人，不过既然这样相对比较的话那世界上就没有不幸福的人啦，世界真是矛盾~"}]},{"type":"text","value":"\n"},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"首先想想从我的售卖开始，一开始我接了几个帮忙做一个类似日记的，人物传记的，大概收费都是在二三十块的样子。然而这种活我从来没想过去找模板去写，当然这种活乱七八糟，做起来也是五花八门的要求，一般我都手写。手写的html也要耗费不少时间。改样式，甚至有的顾客们连要求也没有，此时的我甚至还要费心思去帮他们设计。我遇到的顾客大多数都是女大学生居多，他们好像大多对代码不太敏感也不像太在网上找乱七八糟的模板。然而我觉得这个是极为正确的做法，有些事确实还是不要瞎折腾，特别是不熟悉不了解的事情。折腾还是得熟悉且觉得有乐趣那才是有意义的折腾。"}]},{"type":"text","value":"\n"},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"遇到的人有很好的小姐姐同时也有蛮横不讲理的，记得有个女大学生找我做了几页html之后赖着不讲理，30块钱硬是只给15块，真是不把人的劳动成果放在眼里，要不是我执意把修改好的文件留在我这，说不定我直接白给。但是这种情况已经很久没遇到了，最近遇到的小姐姐的话都是非常善解人意的了。有几个温文尔雅的小姐姐执意为我的幸苦零工钱加点价，也有个东北小姐姐不会弄很急但是也很听我的指导一步步做好了，说实话虽然不挣什么钱加起来可能也就够吃一顿饭的，但是有的人我就是真的很愿意不要钱要少点,因为真的能看到尊重别人的成果了。找我的前端也没有什么过大的工程，一般都是十几二十块的，就这样看可能我的前端第一份工还不算是在实习公司的那份，还要数到这里了，笑:)"}]}]},"dir":"/articles","path":"/articles/storyofsellmycheapfontend","extension":".md","createdAt":"2022-04-23T09:54:59.322Z","updatedAt":"2022-05-03T08:55:16.020Z"},{"slug":"nihao","description":"关于今天的日记","title":"今日日记","toc":[{"id":"不错的牛排","depth":2,"text":"不错的牛排"},{"id":"鸡你实在是太美","depth":2,"text":"鸡你实在是太美"},{"id":"ohbaby-鸡你太美","depth":3,"text":"OHBABY 鸡你太美"}],"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"今天真棒"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"h1","props":{"id":"今天吃了个牛排"},"children":[{"type":"element","tag":"a","props":{"ariaHidden":"true","href":"#%E4%BB%8A%E5%A4%A9%E5%90%83%E4%BA%86%E4%B8%AA%E7%89%9B%E6%8E%92","tabIndex":-1},"children":[{"type":"element","tag":"span","props":{"className":["icon","icon-link"]},"children":[]}]},{"type":"text","value":"今天吃了个牛排"}]},{"type":"text","value":"\n"},{"type":"element","tag":"h2","props":{"id":"不错的牛排"},"children":[{"type":"element","tag":"a","props":{"ariaHidden":"true","href":"#%E4%B8%8D%E9%94%99%E7%9A%84%E7%89%9B%E6%8E%92","tabIndex":-1},"children":[{"type":"element","tag":"span","props":{"className":["icon","icon-link"]},"children":[]}]},{"type":"text","value":"不错的牛排"}]},{"type":"text","value":"\n"},{"type":"element","tag":"h2","props":{"id":"鸡你实在是太美"},"children":[{"type":"element","tag":"a","props":{"ariaHidden":"true","href":"#%E9%B8%A1%E4%BD%A0%E5%AE%9E%E5%9C%A8%E6%98%AF%E5%A4%AA%E7%BE%8E","tabIndex":-1},"children":[{"type":"element","tag":"span","props":{"className":["icon","icon-link"]},"children":[]}]},{"type":"text","value":"鸡你实在是太美"}]},{"type":"text","value":"\n"},{"type":"element","tag":"h3","props":{"id":"ohbaby-鸡你太美"},"children":[{"type":"element","tag":"a","props":{"ariaHidden":"true","href":"#ohbaby-%E9%B8%A1%E4%BD%A0%E5%A4%AA%E7%BE%8E","tabIndex":-1},"children":[{"type":"element","tag":"span","props":{"className":["icon","icon-link"]},"children":[]}]},{"type":"text","value":"OHBABY 鸡你太美"}]}]},"dir":"/articles","path":"/articles/nihao","extension":".md","createdAt":"2022-04-21T06:17:38.981Z","updatedAt":"2022-05-03T08:55:16.020Z"},{"slug":"test","title":"前端一揽子精选文章","date":"2022-01-11","tags":"others","toc":[{"id":"js作用域","depth":3,"text":"JS作用域"},{"id":"proxy与this","depth":3,"text":"Proxy与this"},{"id":"vue响应式","depth":3,"text":"Vue响应式"},{"id":"css对齐","depth":3,"text":"CSS对齐"}],"body":{"type":"root","children":[{"type":"element","tag":"h3","props":{"id":"js作用域"},"children":[{"type":"element","tag":"a","props":{"href":"#js%E4%BD%9C%E7%94%A8%E5%9F%9F","ariaHidden":"true","tabIndex":-1},"children":[{"type":"element","tag":"span","props":{"className":["icon","icon-link"]},"children":[]}]},{"type":"text","value":"JS作用域"}]},{"type":"text","value":"\n"},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://juejin.cn/post/6844903797135769614","rel":["nofollow","noopener","noreferrer"],"target":"_blank"},"children":[{"type":"text","value":"https://juejin.cn/post/6844903797135769614"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"h4","props":{"id":"深入理解javascript作用域和作用域链"},"children":[{"type":"element","tag":"a","props":{"href":"#%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3javascript%E4%BD%9C%E7%94%A8%E5%9F%9F%E5%92%8C%E4%BD%9C%E7%94%A8%E5%9F%9F%E9%93%BE","ariaHidden":"true","tabIndex":-1},"children":[{"type":"element","tag":"span","props":{"className":["icon","icon-link"]},"children":[]}]},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"深入理解JavaScript作用域和作用域链"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"简单概述：电面提的问题没回答上来的一个知识点。"}]},{"type":"text","value":"\n"},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"作用域是在运行时代码中的某些特定部分中变量，函数和对象的可访问性"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"h4","props":{"id":"三大作用域"},"children":[{"type":"element","tag":"a","props":{"href":"#%E4%B8%89%E5%A4%A7%E4%BD%9C%E7%94%A8%E5%9F%9F","ariaHidden":"true","tabIndex":-1},"children":[{"type":"element","tag":"span","props":{"className":["icon","icon-link"]},"children":[]}]},{"type":"text","value":"三大作用域"}]},{"type":"text","value":"\n"},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"1."},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"块级"}]},{"type":"text","value":"作用域（ES6 新增"},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"let/const"}]},{"type":"text","value":"实现）"}]},{"type":"text","value":"\n"},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"块语句（大括号“｛｝”中间的语句）"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"自从有了 "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"let"}]},{"type":"text","value":" 以后块里面的变量就只能真的在块里了"}]},{"type":"text","value":"\n"},{"type":"element","tag":"div","props":{"className":["nuxt-content-highlight"]},"children":[{"type":"element","tag":"pre","props":{"className":["line-numbers","language-js"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  "},{"type":"element","tag":"span","props":{"className":["token","keyword"]},"children":[{"type":"text","value":"let"}]},{"type":"text","value":" a"},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"'nihao2022'"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n  "},{"type":"element","tag":"span","props":{"className":["token","console","class-name"]},"children":[{"type":"text","value":"console"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"className":["token","method","function","property-access"]},"children":[{"type":"text","value":"log"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"a"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","comment"]},"children":[{"type":"text","value":"//output:nihao2022"}]},{"type":"text","value":"\n"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n"},{"type":"element","tag":"span","props":{"className":["token","console","class-name"]},"children":[{"type":"text","value":"console"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"className":["token","method","function","property-access"]},"children":[{"type":"text","value":"log"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"a"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","comment"]},"children":[{"type":"text","value":"//a是没有被定义的 找不到a"}]},{"type":"text","value":"\n"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"而"},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"var"}]},{"type":"text","value":" 这个老的变量定义方式 还是可以冲破这个限制的,块限制不住它,作用域大于块"}]},{"type":"text","value":"\n"},{"type":"element","tag":"div","props":{"className":["nuxt-content-highlight"]},"children":[{"type":"element","tag":"pre","props":{"className":["line-numbers","language-js"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["token","keyword","control-flow"]},"children":[{"type":"text","value":"if"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"className":["token","boolean"]},"children":[{"type":"text","value":"true"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n     "},{"type":"element","tag":"span","props":{"className":["token","comment"]},"children":[{"type":"text","value":"//'if' 条件语句块不会创建一个新的作用域"}]},{"type":"text","value":"\n    "},{"type":"element","tag":"span","props":{"className":["token","keyword"]},"children":[{"type":"text","value":"var"}]},{"type":"text","value":" name "},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"'Hammad'"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","comment"]},"children":[{"type":"text","value":"// name 依然在全局作用域中"}]},{"type":"text","value":"\n"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n"},{"type":"element","tag":"span","props":{"className":["token","console","class-name"]},"children":[{"type":"text","value":"console"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"className":["token","method","function","property-access"]},"children":[{"type":"text","value":"log"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"name"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","comment"]},"children":[{"type":"text","value":"// logs 'Hammad'"}]},{"type":"text","value":"\n"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"2."},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"全局"}]},{"type":"text","value":"作用域 :主要还是暴露在最外层的所有定义 ,都是全局的 ,然后几乎哪都能get到这些函数/变量，都有权限访问到这些被全局声明的"}]},{"type":"text","value":"\n"},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"3."},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"局部"}]},{"type":"text","value":"作用域"}]},{"type":"text","value":"\n"},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"也称之为"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"函数作用域"}]},{"type":"text","value":" 在一个函数里定义的 外边是访问不到函数里面定义的变量的"}]},{"type":"text","value":"\n"},{"type":"element","tag":"h4","props":{"id":"ps"},"children":[{"type":"element","tag":"a","props":{"href":"#ps","ariaHidden":"true","tabIndex":-1},"children":[{"type":"element","tag":"span","props":{"className":["icon","icon-link"]},"children":[]}]},{"type":"text","value":"PS"}]},{"type":"text","value":"\n"},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"牵扯到面试另一个没回答的问题，IIFE立即执行"},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"(()=>{})()"}]},{"type":"text","value":" 这个可以很好地封闭函数里的变量不被污染 外边是访问不到内部的变量的,现代工具库喜欢弄这个，jq就是这样的。"}]},{"type":"text","value":"\n"},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"for循环还有一个特别之处，就是设置循环变量的那部分是一个父作用域，而循环体内部是一个单独的子作用域。"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"div","props":{"className":["nuxt-content-highlight"]},"children":[{"type":"element","tag":"pre","props":{"className":["line-numbers","language-js"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["token","keyword","control-flow"]},"children":[{"type":"text","value":"for"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"className":["token","keyword"]},"children":[{"type":"text","value":"let"}]},{"type":"text","value":" i "},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","number"]},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":" i "},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":"<"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","number"]},"children":[{"type":"text","value":"3"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":" i"},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":"++"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  "},{"type":"element","tag":"span","props":{"className":["token","keyword"]},"children":[{"type":"text","value":"let"}]},{"type":"text","value":" i "},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"'abc'"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n  "},{"type":"element","tag":"span","props":{"className":["token","console","class-name"]},"children":[{"type":"text","value":"console"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"className":["token","method","function","property-access"]},"children":[{"type":"text","value":"log"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"i"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n"},{"type":"element","tag":"span","props":{"className":["token","comment"]},"children":[{"type":"text","value":"// abc"}]},{"type":"text","value":"\n"},{"type":"element","tag":"span","props":{"className":["token","comment"]},"children":[{"type":"text","value":"// abc"}]},{"type":"text","value":"\n"},{"type":"element","tag":"span","props":{"className":["token","comment"]},"children":[{"type":"text","value":"// abc"}]},{"type":"text","value":"\n"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"1.  js引擎子作用域优先 输出abc说明循环体内部是子作用域"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"2.  i 可以被 "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"let"}]},{"type":"text","value":" 两次说明分属两个作用域"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"（ "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"let 不能在同一作用域内重复声明一个已有标识符"}]},{"type":"text","value":"：会报错）"}]},{"type":"text","value":"\n"},{"type":"element","tag":"h4","props":{"id":"作用域链"},"children":[{"type":"element","tag":"a","props":{"href":"#%E4%BD%9C%E7%94%A8%E5%9F%9F%E9%93%BE","ariaHidden":"true","tabIndex":-1},"children":[{"type":"element","tag":"span","props":{"className":["icon","icon-link"]},"children":[]}]},{"type":"text","value":"作用域链"}]},{"type":"text","value":"\n"},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"就是使用一个变量但本作用域无此变量（即自由变量） 就像链上寻找（父级）之类的"}]},{"type":"text","value":"\n"},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"特殊：在函数里找父级链上变量是基于"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"定义时"}]},{"type":"text","value":"的作用域（称之为静态作用域）"}]},{"type":"text","value":"\n"},{"type":"element","tag":"div","props":{"className":["nuxt-content-highlight"]},"children":[{"type":"element","tag":"pre","props":{"className":["line-numbers","language-js"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["token","keyword"]},"children":[{"type":"text","value":"var"}]},{"type":"text","value":" x"},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"className":["token","number"]},"children":[{"type":"text","value":"100"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n"},{"type":"element","tag":"span","props":{"className":["token","keyword"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","function-variable","function"]},"children":[{"type":"text","value":"f1"}]},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"className":["token","arrow","operator"]},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n    "},{"type":"element","tag":"span","props":{"className":["token","console","class-name"]},"children":[{"type":"text","value":"console"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"className":["token","method","function","property-access"]},"children":[{"type":"text","value":"log"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"x"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n"},{"type":"element","tag":"span","props":{"className":["token","keyword"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","function-variable","function"]},"children":[{"type":"text","value":"f2"}]},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"className":["token","arrow","operator"]},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n    "},{"type":"element","tag":"span","props":{"className":["token","keyword"]},"children":[{"type":"text","value":"let"}]},{"type":"text","value":" x"},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"className":["token","number"]},"children":[{"type":"text","value":"999"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n    "},{"type":"element","tag":"span","props":{"className":["token","function"]},"children":[{"type":"text","value":"f1"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n"},{"type":"element","tag":"span","props":{"className":["token","function"]},"children":[{"type":"text","value":"f2"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","comment"]},"children":[{"type":"text","value":"//输出100"}]},{"type":"text","value":"\n"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"与调用时作用域无关/与定义时作用域相关"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"原理：js的运行机制时"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"解释+执行"}]},{"type":"text","value":" 解释时就已经确定了作用域！！！！！"}]},{"type":"text","value":"\n"},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"执行时自然按照解释后的作用域来执行（this的指向是执行时确定的，而作用域访问的变量是编写代码的结构确定的）"}]},{"type":"text","value":"\n"},{"type":"element","tag":"h3","props":{"id":"proxy与this"},"children":[{"type":"element","tag":"a","props":{"href":"#proxy%E4%B8%8Ethis","ariaHidden":"true","tabIndex":-1},"children":[{"type":"element","tag":"span","props":{"className":["icon","icon-link"]},"children":[]}]},{"type":"text","value":"Proxy与this"}]},{"type":"text","value":"\n"},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"proxy与this有这奇妙关系 为啥这么说呢 因为proxy代理后的对象运行this与源对象运行时的this并不相同"}]},{"type":"text","value":"\n"},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"这会造成一些问题 比如原生隐藏的内部属性需要用到this 而 通过代理这层访问不到真this也就是源对象 代理后this也成为了proxy"}]},{"type":"text","value":"\n"},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"有些原生对象的内部属性，只有通过正确的"},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"this"}]},{"type":"text","value":"才能拿到，所以 Proxy 也无法代理这些原生对象的属性。"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"代理前：obj的this  =>obj"}]},{"type":"text","value":"\n"},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"代理后：proxy的this =>proxy"}]},{"type":"text","value":"\n"},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"一个原生Date对象的代理"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tag":"div","props":{"className":["nuxt-content-highlight"]},"children":[{"type":"element","tag":"pre","props":{"className":["line-numbers","language-js"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["token","keyword"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" d1"},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"className":["token","keyword"]},"children":[{"type":"text","value":"new"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","class-name"]},"children":[{"type":"text","value":"Date"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n"},{"type":"element","tag":"span","props":{"className":["token","keyword"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" p1"},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"className":["token","keyword"]},"children":[{"type":"text","value":"new"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","class-name"]},"children":[{"type":"text","value":"Proxy"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"d1"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\np1"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"className":["token","method","function","property-access"]},"children":[{"type":"text","value":"getDate"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","comment"]},"children":[{"type":"text","value":"// TypeError: this is not a Date object."}]},{"type":"text","value":"\n"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"div","props":{"className":["nuxt-content-highlight"]},"children":[{"type":"element","tag":"pre","props":{"className":["line-numbers","language-js"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["token","keyword"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" target "},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","keyword"]},"children":[{"type":"text","value":"new"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","class-name"]},"children":[{"type":"text","value":"Date"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n"},{"type":"element","tag":"span","props":{"className":["token","keyword"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" handler "},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  "},{"type":"element","tag":"span","props":{"className":["token","function"]},"children":[{"type":"text","value":"get"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"target"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" prop"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n    "},{"type":"element","tag":"span","props":{"className":["token","keyword","control-flow"]},"children":[{"type":"text","value":"if"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"prop "},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":"==="}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"'getDate'"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n      "},{"type":"element","tag":"span","props":{"className":["token","keyword","control-flow"]},"children":[{"type":"text","value":"return"}]},{"type":"text","value":" target"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"className":["token","method","function","property-access"]},"children":[{"type":"text","value":"getDate"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"className":["token","method","function","property-access"]},"children":[{"type":"text","value":"bind"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"target"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n    "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n    "},{"type":"element","tag":"span","props":{"className":["token","keyword","control-flow"]},"children":[{"type":"text","value":"return"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","known-class-name","class-name"]},"children":[{"type":"text","value":"Reflect"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"className":["token","method","function","property-access"]},"children":[{"type":"text","value":"get"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"target"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" prop"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n  "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n"},{"type":"element","tag":"span","props":{"className":["token","keyword"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" proxy "},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","keyword"]},"children":[{"type":"text","value":"new"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","class-name"]},"children":[{"type":"text","value":"Proxy"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"target"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" handler"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n\nproxy"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"className":["token","method","function","property-access"]},"children":[{"type":"text","value":"getDate"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","comment"]},"children":[{"type":"text","value":"// get到的"}]},{"type":"text","value":"\n"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"我们需要自己"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"手动绑定真对象"}]},{"type":"text","value":"才能拿到内部函数属性"}]},{"type":"text","value":"\n"},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Reflect"}]},{"type":"text","value":"实际作用是一个"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"基础的默认操作"}]},{"type":"text","value":"，通过基础操作Reflect叠加我们可以在默认操作做一点副作用 也就是在trap函数加点东西+一个返回Reflect的默认操作就是我们完整所要写的代理逻辑了，不过不用默认操作也是可以。"}]},{"type":"text","value":"\n"},{"type":"element","tag":"h3","props":{"id":"vue响应式"},"children":[{"type":"element","tag":"a","props":{"href":"#vue%E5%93%8D%E5%BA%94%E5%BC%8F","ariaHidden":"true","tabIndex":-1},"children":[{"type":"element","tag":"span","props":{"className":["icon","icon-link"]},"children":[]}]},{"type":"text","value":"Vue响应式"}]},{"type":"text","value":"\n"},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Vue3.0的响应式我认为更像是一个"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"连锁反应"}]},{"type":"text","value":" ，一个带动另一个 ，一个值的变化带动依赖该值的另一个值变化，从而形成响应式。原理基于ES6推出的Proxy代理，就是给默认行为添加副作用，这些副作用是实现连锁反应的逻辑操作。可能是以前学过的发布订阅模型实现~ 现在印象不是很深。"}]},{"type":"text","value":"\n"},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"来自VUE文档"}]},{"type":"text","value":"\n"},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"1.当一个值被读取时进行追踪"}]},{"type":"text","value":"：proxy 的 "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"get"}]},{"type":"text","value":" 处理函数中 "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"track"}]},{"type":"text","value":" 函数记录了该 property 和当前副作用。"}]},{"type":"text","value":"\n"},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"2.当某个值改变时进行检测"}]},{"type":"text","value":"：在 proxy 上调用 "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"set"}]},{"type":"text","value":" 处理函数。"}]},{"type":"text","value":"\n"},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"3.重新运行代码来读取原始值"}]},{"type":"text","value":"："},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"trigger"}]},{"type":"text","value":" 函数查找哪些副作用依赖于该 property 并执行它们。"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tag":"div","props":{"className":["nuxt-content-highlight"]},"children":[{"type":"element","tag":"pre","props":{"className":["line-numbers","language-js"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["token","keyword"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" dinner "},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  "},{"type":"element","tag":"span","props":{"className":["token","literal-property","property"]},"children":[{"type":"text","value":"meal"}]},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","string"]},"children":[{"type":"text","value":"'tacos'"}]},{"type":"text","value":"\n"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n\n"},{"type":"element","tag":"span","props":{"className":["token","keyword"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" handler "},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  "},{"type":"element","tag":"span","props":{"className":["token","function"]},"children":[{"type":"text","value":"get"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"target"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" property"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" receiver"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n    "},{"type":"element","tag":"span","props":{"className":["token","function"]},"children":[{"type":"text","value":"track"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"target"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" property"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n    "},{"type":"element","tag":"span","props":{"className":["token","keyword","control-flow"]},"children":[{"type":"text","value":"return"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","known-class-name","class-name"]},"children":[{"type":"text","value":"Reflect"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"className":["token","method","function","property-access"]},"children":[{"type":"text","value":"get"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"className":["token","spread","operator"]},"children":[{"type":"text","value":"..."}]},{"type":"text","value":"arguments"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n  "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n  "},{"type":"element","tag":"span","props":{"className":["token","function"]},"children":[{"type":"text","value":"set"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"target"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" property"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" value"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" receiver"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n    "},{"type":"element","tag":"span","props":{"className":["token","function"]},"children":[{"type":"text","value":"trigger"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"target"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" property"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n    "},{"type":"element","tag":"span","props":{"className":["token","keyword","control-flow"]},"children":[{"type":"text","value":"return"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","known-class-name","class-name"]},"children":[{"type":"text","value":"Reflect"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"className":["token","method","function","property-access"]},"children":[{"type":"text","value":"set"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"className":["token","spread","operator"]},"children":[{"type":"text","value":"..."}]},{"type":"text","value":"arguments"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n  "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n\n"},{"type":"element","tag":"span","props":{"className":["token","keyword"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" proxy "},{"type":"element","tag":"span","props":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","keyword"]},"children":[{"type":"text","value":"new"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","class-name"]},"children":[{"type":"text","value":"Proxy"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"dinner"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" handler"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n"},{"type":"element","tag":"span","props":{"className":["token","console","class-name"]},"children":[{"type":"text","value":"console"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"className":["token","method","function","property-access"]},"children":[{"type":"text","value":"log"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"proxy"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"className":["token","property-access"]},"children":[{"type":"text","value":"meal"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n\n"},{"type":"element","tag":"span","props":{"className":["token","comment"]},"children":[{"type":"text","value":"// tacos"}]},{"type":"text","value":"\n"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"用自己的话翻译一下:"}]},{"type":"text","value":"\n"},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"其中有两个trap函数"}]},{"type":"text","value":"\n"},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"1.当有地方读取这个响应式数据时，代理的hadler的get函数的副作用用"},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"track"}]},{"type":"text","value":"函数记录下这个值在哪里被用到，告诉声明Vue我这里用了这个响应式数据，到时候更新带我一个的意思。"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"|"}]},{"type":"text","value":"（记录位置）"}]},{"type":"text","value":"\n"},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"2.当该响应式数据被改变时,trigger函数被触发,随即会寻找哪些需要使用这个响应式数据的地方。去找那些喊着更新带我一个的地方。"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"|"}]},{"type":"text","value":"（找位置）"}]},{"type":"text","value":"\n"},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"3.OK现在也找到它们的位置了，直接进行新值的更新。"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"|"}]},{"type":"text","value":"（换新值）"}]},{"type":"text","value":"\n"},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"总结："},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"track实际上就是订阅的动作，响应式的更新trigger就是发布的意思，响应式的过程就是向所有订阅者发布新值的过程。这个过程在Vue3是"},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"proxy"}]},{"type":"text","value":"实现，而2是"},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"Object.defineProperties"}]},{"type":"text","value":"实现的"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"h3","props":{"id":"css对齐"},"children":[{"type":"element","tag":"a","props":{"href":"#css%E5%AF%B9%E9%BD%90","ariaHidden":"true","tabIndex":-1},"children":[{"type":"element","tag":"span","props":{"className":["icon","icon-link"]},"children":[]}]},{"type":"text","value":"CSS对齐"}]},{"type":"text","value":"\n"},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://juejin.cn/post/6844904084885995528","rel":["nofollow","noopener","noreferrer"],"target":"_blank"},"children":[{"type":"text","value":"https://juejin.cn/post/6844904084885995528"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"ul","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"基线：书写英语字母时，字母 X 底部所在的位置，可以了解下 "},{"type":"element","tag":"a","props":{"href":"https://link.juejin.cn/?target=https%3A%2F%2Fwww.zhangxinxu.com%2Fwordpress%2F2015%2F06%2Fabout-letter-x-of-css%2F","rel":["nofollow","noopener","noreferrer"],"target":"_blank"},"children":[{"type":"text","value":"字母’x’在CSS世界中的角色和故事"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"行高( line-height )：两行文字基线之间的距离"}]},{"type":"text","value":"\n"},{"type":"element","tag":"h4","props":{"id":"一个基线问题案例"},"children":[{"type":"element","tag":"a","props":{"href":"#%E4%B8%80%E4%B8%AA%E5%9F%BA%E7%BA%BF%E9%97%AE%E9%A2%98%E6%A1%88%E4%BE%8B","ariaHidden":"true","tabIndex":-1},"children":[{"type":"element","tag":"span","props":{"className":["icon","icon-link"]},"children":[]}]},{"type":"text","value":"一个基线问题案例"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"div","props":{"className":["nuxt-content-highlight"]},"children":[{"type":"element","tag":"pre","props":{"className":["line-numbers","language-html"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"element","tag":"span","props":{"className":["token","tag"]},"children":[{"type":"element","tag":"span","props":{"className":["token","tag"]},"children":[{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"<"}]},{"type":"text","value":"ul"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","attr-name"]},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"className":["token","attr-value"]},"children":[{"type":"element","tag":"span","props":{"className":["token","punctuation","attr-equals"]},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]},{"type":"text","value":"box"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"\""}]}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"text","value":"\n  "},{"type":"element","tag":"span","props":{"className":["token","tag"]},"children":[{"type":"element","tag":"span","props":{"className":["token","tag"]},"children":[{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"<"}]},{"type":"text","value":"li"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"text","value":"文本"},{"type":"element","tag":"span","props":{"className":["token","tag"]},"children":[{"type":"element","tag":"span","props":{"className":["token","tag"]},"children":[{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"</"}]},{"type":"text","value":"li"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"text","value":"  \n  "},{"type":"element","tag":"span","props":{"className":["token","tag"]},"children":[{"type":"element","tag":"span","props":{"className":["token","tag"]},"children":[{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"<"}]},{"type":"text","value":"li"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"element","tag":"span","props":{"className":["token","tag"]},"children":[{"type":"element","tag":"span","props":{"className":["token","tag"]},"children":[{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"</"}]},{"type":"text","value":"li"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"span","props":{"className":["token","tag"]},"children":[{"type":"element","tag":"span","props":{"className":["token","tag"]},"children":[{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"</"}]},{"type":"text","value":"ul"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"text","value":"\n"},{"type":"element","tag":"span","props":{"className":["token","tag"]},"children":[{"type":"element","tag":"span","props":{"className":["token","tag"]},"children":[{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"<"}]},{"type":"text","value":"style"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"element","tag":"span","props":{"className":["token","style"]},"children":[{"type":"element","tag":"span","props":{"className":["token","language-css"]},"children":[{"type":"text","value":"\n  "},{"type":"element","tag":"span","props":{"className":["token","selector"]},"children":[{"type":"element","tag":"span","props":{"className":["token","class"]},"children":[{"type":"text","value":".li"}]}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n    "},{"type":"element","tag":"span","props":{"className":["token","property"]},"children":[{"type":"text","value":"font-size"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","number"]},"children":[{"type":"text","value":"20"}]},{"type":"element","tag":"span","props":{"className":["token","unit"]},"children":[{"type":"text","value":"px"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n    "},{"type":"element","tag":"span","props":{"className":["token","property"]},"children":[{"type":"text","value":"width"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","number"]},"children":[{"type":"text","value":"160"}]},{"type":"element","tag":"span","props":{"className":["token","unit"]},"children":[{"type":"text","value":"px"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n    "},{"type":"element","tag":"span","props":{"className":["token","property"]},"children":[{"type":"text","value":"height"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","number"]},"children":[{"type":"text","value":"160"}]},{"type":"element","tag":"span","props":{"className":["token","unit"]},"children":[{"type":"text","value":"px"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n    "},{"type":"element","tag":"span","props":{"className":["token","property"]},"children":[{"type":"text","value":"display"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" inline-block"},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n    "},{"type":"element","tag":"span","props":{"className":["token","property"]},"children":[{"type":"text","value":"border"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{"className":["token","number"]},"children":[{"type":"text","value":"1"}]},{"type":"element","tag":"span","props":{"className":["token","unit"]},"children":[{"type":"text","value":"px"}]},{"type":"text","value":" solid "},{"type":"element","tag":"span","props":{"className":["token","hexcode","color"]},"children":[{"type":"text","value":"#ccc"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n  "},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"className":["token","tag"]},"children":[{"type":"element","tag":"span","props":{"className":["token","tag"]},"children":[{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":"</"}]},{"type":"text","value":"style"}]},{"type":"element","tag":"span","props":{"className":["token","punctuation"]},"children":[{"type":"text","value":">"}]}]},{"type":"text","value":"\n"}]}]}]}]},"dir":"/articles","path":"/articles/test","extension":".md","createdAt":"2022-04-21T06:17:38.981Z","updatedAt":"2022-05-03T08:55:16.020Z"},{"slug":"howtobuildthis","description":"关于博客","title":"我是如何构建这个博客的","toc":[{"id":"来历","depth":2,"text":"来历"},{"id":"后端","depth":2,"text":"后端"},{"id":"strapi安装","depth":3,"text":"Strapi安装"},{"id":"directus","depth":3,"text":"directus"},{"id":"前端","depth":2,"text":"前端"},{"id":"nuxt-content","depth":3,"text":"NUXT-CONTENT"},{"id":"字体压缩","depth":3,"text":"字体压缩"},{"id":"自动部署","depth":2,"text":"自动部署"}],"body":{"type":"root","children":[{"type":"element","tag":"h2","props":{"id":"来历"},"children":[{"type":"element","tag":"a","props":{"href":"#%E6%9D%A5%E5%8E%86","ariaHidden":"true","tabIndex":-1},"children":[{"type":"element","tag":"span","props":{"className":["icon","icon-link"]},"children":[]}]},{"type":"text","value":"来历"}]},{"type":"text","value":"\n"},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"我的博客应该是从react的学习开始的当时采用的是react一个SSG生成器（"},{"type":"element","tag":"a","props":{"href":"https://docusaurus.io/zh-CN/","rel":["nofollow","noopener","noreferrer"],"target":"_blank"},"children":[{"type":"text","value":"https://docusaurus.io/zh-CN/"}]},{"type":"text","value":"）当时学完react便觉得想使用react大干一番，:)。想法是美好的，当然结果也是非常美好的。Docusaurus生成的博客很美观，而且样式上也无可挑剔。那是我第一个部署到vercel上真正意义的博客。"}]},{"type":"text","value":"\n"},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"从这个博客小恐龙生成的框架下放入md文件再dev，一个默认模板包裹的博客就这样平平稳稳地生成了。但是呢，当时貌似觉得这个小恐龙博客框架不是那么好改动，自定义地文档也没有中文，不过现在有了😆。"}]},{"type":"text","value":"\n"},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"后来使用Nextjs感受了一下顺便部署了一份，改动起来也不是很麻烦，当时react还是非常熟悉的，而且十分膜拜react地jsx语法，这玩意不是比vue用起来爽很多？jsx的js和html混到一块写起来的写法很方便，除了一直没能明白react的css好的解决方案一切用起来很顺利。"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"但是博客的部署流程一直都是非常不优雅的，用前端工具搭出来一个框架放入md再Push到github仓库,vercel的机器人发现github仓库更新了就会触发重新部署，vercel的服务器再次部署就会拉取到新的md文件，这样内容就更新了。实际上的操作也不多就是更改，push这样一个操作就能达到持续部署，自动化的效果。但是这个还是很讨厌就是，没有办法随时随地向上传文章或者说闲空地时候，有了灵感地时候，就没有办法诉之所求了。只能借助于石墨文档，语雀这样的在线文档库。但是这...我还要博客作甚么呢。"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"于是，借助于v2ex的一个帖子开始了我的再构博客之旅。"}]},{"type":"text","value":"\n"},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"关键词：headless CMS,SSG"}]},{"type":"text","value":"\n"},{"type":"element","tag":"h2","props":{"id":"后端"},"children":[{"type":"element","tag":"a","props":{"href":"#%E5%90%8E%E7%AB%AF","ariaHidden":"true","tabIndex":-1},"children":[{"type":"element","tag":"span","props":{"className":["icon","icon-link"]},"children":[]}]},{"type":"text","value":"后端"}]},{"type":"text","value":"\n"},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"首先我就在部署这块想办法改进，试图加一个后端服务，当我看到v2ex提及的headless cms我就去找到了Strapi,ghost这些知名的CMS,说是headless其实就是一个能让后端失业的产品，写好的数据库和中间件，暴露出接口让你调用，不像wordpress前端都给你做好了。其实也是前后端分离的结果，wordpress一些非无头cms呢大部分还是服务端渲染出数据包裹好html是由服务端的php渲染的都是在后端完成的一系列效果。这样我们就确定了headless的cms可以解决我所想要的后端服务，通过这个cms我可以直接在这个"},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"everywhere"}]},{"type":"text","value":"都可以用的地方写我的文章了，更前进一点的话我可以自己做一个后台利用他的CRUD接口自己就可以在自己自定义的后台编写文章岂不美哉。"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"理想很美好，做起来很复杂。"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tag":"img","props":{"src":"https://pic.yupoo.com/twicecandy/186d1ccd/small.webp","alt":"strapi_dribble (1).png"},"children":[]},{"type":"text","value":"\n"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"尝试了最为出名的Strapi这个logo非常好看，后台也很精致也是很多企业和组织都在用的无头cms常用一些不太复杂的业务和博客，当然后端不会因为这个失业的啦。因为后端岂至crud还有很多复杂的非模板化的东西算法运算之类，但这个简单的博客内容系统用无头cms还是戳戳有余了。"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Strapi一经我的使用就出现了非常头疼的问题，并不能很好的安装，这里还是主要是环境的问题，在这边做个小tip吧"}]},{"type":"text","value":"\n"},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tag":"h3","props":{"id":"strapi安装"},"children":[{"type":"element","tag":"a","props":{"href":"#strapi%E5%AE%89%E8%A3%85","ariaHidden":"true","tabIndex":-1},"children":[{"type":"element","tag":"span","props":{"className":["icon","icon-link"]},"children":[]}]},{"type":"text","value":"Strapi安装"}]},{"type":"text","value":"\n"},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"总之由于环境和国内网络 让strapi的安装十分抓狂 "},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"同时在windows上也非常难以安装 以下是在linux node环境下"}]},{"type":"text","value":"\n"},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"1.gcc编译器缺失 某个node包需要编译 （strapi/ghost)"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"gcc在strapi下一般需要>4.x"}]},{"type":"text","value":"\n"},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://blog.csdn.net/BUG_88/article/details/106235196","rel":["nofollow","noopener","noreferrer"],"target":"_blank"},"children":[{"type":"text","value":"https://blog.csdn.net/BUG_88/article/details/106235196"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"2.node版本不对"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"有的包需要node 16或12，14的某个特定版本下才能运行"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"nvm安装即可"}]},{"type":"text","value":"\n"},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://www.cnblogs.com/shuiche/p/15721801.html","rel":["nofollow","noopener","noreferrer"],"target":"_blank"},"children":[{"type":"text","value":"https://www.cnblogs.com/shuiche/p/15721801.html"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"3.npm sharp的网络问题"}]},{"type":"text","value":"\n"},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"text","value":"\n"},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://sharp.pixelplumbing.com/install#chinese-mirror","rel":["nofollow","noopener","noreferrer"],"target":"_blank"},"children":[{"type":"text","value":"https://sharp.pixelplumbing.com/install#chinese-mirror"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Chinese Mirror npm设置sharp镜像"}]},{"type":"text","value":"\n"},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"4.node守护进程问题"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"node进程常驻系统 使用pm2"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"linux/tips:"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"0.0.0.0 是对外开放，说明80端口外面可以访问；127.0.0.1 是只能本机访问，外面访问不了此端口"}]},{"type":"text","value":"\n"},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"安装之后但是Strapi还是有个基于graphql的接口，试了半天不行，一去查graphql结果发现graphql这个四五年前诞生也很火的东西现在基本上是无人问津。听说因为是需要后端操作且提供接口所以非常麻烦且不易，然而我也查不到什么相对有用的资料折腾之后我还是放弃了Strapi。放弃之后想法是转向第二大的ghost cms没想到这家伙更加复杂难弄一堆报错且查不到办法解决，没有办法再让我继续下去了。转而走向Netlify CMS这家伙基于GIT听说还可以，但是使用了一下发现体验并不好，netlify在国内的速度堪忧，比起vercel还差的很远。CMS是基于NETFLIFY的说实话并不是很想用，条条框框稍微有点多了。"}]},{"type":"text","value":"\n"},{"type":"element","tag":"h3","props":{"id":"directus"},"children":[{"type":"element","tag":"a","props":{"href":"#directus","ariaHidden":"true","tabIndex":-1},"children":[{"type":"element","tag":"span","props":{"className":["icon","icon-link"]},"children":[]}]},{"type":"text","value":"directus"}]},{"type":"text","value":"\n"},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"最后我还是投向了这个略微有点丑的带着山羊logo的directus，说实话这些无头CMS可能是国外比较火的原因，一但安装报错在国内难以查到相关资料，在国外甚至也是有很多热乎的错误。反正就是安装永远不可能顺利，多少都会带点node-gyp这样的难搞东西去跨语言编译导致不少报错（node-gyp的环境参照仓库的md可以解决）。最后惊喜地发现directus甚至有自家地部署云服务，比起Strapi和ghost更重要的是他免费。用起来很方便，直接不需要我在我买了一年的腾讯云应用服务器上部署了。当然我这服务器钱也白花了，一直想用来把服务器做后端很轻量传的东西小带宽也能用。更好的是我对这个山羊CMS有了很大好感。因为cloud自定义域名找不到地方的问题，特地去discord问官方频道，里面还有个新加坡好像是core team的人热心帮我解答了确实自定义不了。特别感谢，这说明这个CMS还是值得信赖的呀~虽然没花一分钱。真向directs表示感谢现在的博客全自动部署都是基于directus的服务。"}]},{"type":"text","value":"\n"},{"type":"element","tag":"h2","props":{"id":"前端"},"children":[{"type":"element","tag":"a","props":{"href":"#%E5%89%8D%E7%AB%AF","ariaHidden":"true","tabIndex":-1},"children":[{"type":"element","tag":"span","props":{"className":["icon","icon-link"]},"children":[]}]},{"type":"text","value":"前端"}]},{"type":"text","value":"\n"},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"找到了山羊cms，后端解决了接下来是前端了。前端是一个擅长领域是吧，但其实也不是。我对博客的静态部署了解也十分孱弱，只会SPA的三脚猫功夫。因为一直在公司用VUE2就顺利成章地使用了NUXT.JS。在2019年左右学前端的那时，真心觉得NUXT是一个非常酷的东西。当时伴随着NUXT的名词有服务端渲染等等，VUE的更上一级框架，而且LOGO我觉得设计得真心好看自然之美。"}]},{"type":"text","value":"\n"},{"type":"element","tag":"h3","props":{"id":"nuxt-content"},"children":[{"type":"element","tag":"a","props":{"href":"#nuxt-content","ariaHidden":"true","tabIndex":-1},"children":[{"type":"element","tag":"span","props":{"className":["icon","icon-link"]},"children":[]}]},{"type":"text","value":"NUXT-CONTENT"}]},{"type":"text","value":"\n"},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"这次也是稍微了解了NUXT，前端有三种渲染方式SPA,SSR,SSG。SPA就是基于JS渲染，真正的一个基于首屏的APP，页面渲染依靠JS。SSR就是服务端渲染好数据传给客户端，需要一个NODE环境把html字符渲染好，在客户端做个js的激活。SSG就是纯静态资源的生成，数据当然都是写死了。想了想之前博客的一大痛点是有点丑，不够简约，字体是一大痛点，不同字重试了默认的字体都不是很好看如果是苹果的话苹方会不错，但很明显我没这钱有苹果电脑。这就有点限制了我选择SSG，因为SSG快，可以SEO，且自定义字体方便。当时我想的是SSG可以提前知道需要哪些字，使用那些字体提取工具会很方便。所以我就依旧使用这个最适合博客的SSG，因为博客改动小，主要是看，美观还是第一的。"}]},{"type":"text","value":"\n"},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"使用nuxt的时候主要是怎么做这博客的渲染呢，发现nuxt自带一个非常不错的适配markdown的插件nuxt-content。有非常多强大的功能，甚至还为内容提供api接口，这个我真想不出来怎么实现的。但是nuxtcontent首要就是放在"},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"/content"}]},{"type":"text","value":"目录下读取md。这个怎么办呢，我现在是基于后端获取数据，而nuxt-content是需要读取目录下的md文件。我就直接用了gulp类似编译前在node环境下先去向后端拿数据写入"},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"/content"}]},{"type":"text","value":"文件夹，这样我们就有了nuxt-content的数据源。再次dev发现这样是成功的。"}]},{"type":"text","value":"\n"},{"type":"element","tag":"h3","props":{"id":"字体压缩"},"children":[{"type":"element","tag":"a","props":{"href":"#%E5%AD%97%E4%BD%93%E5%8E%8B%E7%BC%A9","ariaHidden":"true","tabIndex":-1},"children":[{"type":"element","tag":"span","props":{"className":["icon","icon-link"]},"children":[]}]},{"type":"text","value":"字体压缩"}]},{"type":"text","value":"\n"},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"那么一个博客的基本逻辑结构就形成了，那么怎么弄字体那边的压缩呢。这个其实还是比较麻烦的，尝试过font-spider也就是字蛛，字蛛需要参数"},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":".html"}]},{"type":"text","value":"也就是html文件作为参数。那我在"},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"nuxt generate"}]},{"type":"text","value":"用font-spider去压缩不就行了嘛。然而这东西是不起效果的，因为nuxt生成的静态文件路径有点问题，字蛛找不到字体文件在哪，路径是基于服务器的根路径，类似"},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"/resource"}]},{"type":"text","value":"也就是说只有在启动服务器的时候才会被指向正确的路径，在windows下直接使用一般都会把根指向盘符。必应，谷歌，百度发了疯似的寻找这个Nuxt解决导出路径的答案，结果还是找不到。想了半天写个脚本去全替换成相对不就行吗，然而这是个愚蠢的想法，不同的html嵌套层级还不一样直接加个点完全找不到。那我想有个想法，在获取服务器的数据时填充到一个html再去从这个html解析字体不是很好吗。确实这是个偏方。但是我发现更好的font-min库，这个库的参数是基于字符串，给什么字符串它提取什么字体并输出字体包。这样我从服务器下获取的数据直接转化为字符串再给它入参不就行了吗。我最后把这个写成了脚本放在了"},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"script"}]},{"type":"text","value":"里在最后生成时对生成的font文件替换达到了预期的效果。在vercel上这个字体包也缩减到了几百k。已经是个很不错的成果了。"}]},{"type":"text","value":"\n"},{"type":"element","tag":"h2","props":{"id":"自动部署"},"children":[{"type":"element","tag":"a","props":{"href":"#%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2","ariaHidden":"true","tabIndex":-1},"children":[{"type":"element","tag":"span","props":{"className":["icon","icon-link"]},"children":[]}]},{"type":"text","value":"自动部署"}]},{"type":"text","value":"\n"},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"这个自动部署就比较简单了，在directus里有webhook直接填入vercel给的触发url，当cms的数据变动时就会触发，待vercel收到后就会对仓库进行重新部署，这时候会获取最新的数据，生成新的md,生成的页面也将会是修改后的。这样就初步实现了"},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"everywhere write"}]},{"type":"text","value":"的目标。想想处处可以写就很激动，这时候比起之前的流程不需要你去git clone一个下来去修改md这种繁杂体验不好的写作方式。"}]},{"type":"text","value":"\n"},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"现在，你可以在任何编辑器编辑想要的内容制作成md，复制粘贴到directus即可。这时vercel又会默默地重新部署，虽然需要点时间，website会pending最后才生成静态文件，但这个真的很棒。大大改进了我的博客写作流。以后完全可以再写一部分后台内容，然后直接在后台的网页做一个axios的请求更新文章。甚至不需要进cms。这样的体验真的很棒哈哈。"}]}]},"dir":"/articles","path":"/articles/howtobuildthis","extension":".md","createdAt":"2022-04-23T09:54:59.322Z","updatedAt":"2022-05-03T08:55:16.020Z"}]